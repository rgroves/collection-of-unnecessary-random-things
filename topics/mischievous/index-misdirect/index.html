<html lang="en">
  <head>
    <title>Index of /labs</title>
    <style>
      html * {
        box-sizing: border-box;
      }
      html,
      body {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      main,
      footer {
        box-sizing: border-box;
        margin: 8px;
      }
      .pnl {
        box-sizing: border-box;
        position: absolute;
        bottom: 0;
        top: 0;
        min-width: 100vw;
        min-height: 100vh;
        pointer-events: none;
        display: flex;
        flex-direction: row;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        background: rgba(0, 0, 0, 0.8);
        backdrop-filter: blur(5px);
        z-index: 2;
        text-align: center;
      }
      .nop {
        display: none;
      }
    </style>
  </head>
  <body>
    <main>
      <h1>Index of /labs</h1>
      <table>
        <tr>
          <th>&nbsp;</th>
          <th><a href="?C=N;O=D">Name</a></th>
          <th><a href="?C=M;O=A">Last modified</a></th>
          <th><a href="?C=S;O=A">Size</a></th>
          <th><a href="?C=D;O=A">Description</a></th>
        </tr>
        <tr>
          <th colspan="5"><hr /></th>
        </tr>
        <tr>
          <td valign="top">&nbsp;</td>
          <td><a href="/">Parent Directory</a></td>
          <td>&nbsp;</td>
          <td align="right">-</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td valign="top">&nbsp;</td>
          <td><a href="/.secret_keys" id="secrets">.secret_keys/</a></td>
          <td align="right">2025-04-01 11:11</td>
          <td align="right">-</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <td valign="top">&nbsp;</td>
          <td><a href="psst/">psst/</a></td>
          <td align="right">2025-08-01 12:23</td>
          <td align="right">-</td>
          <td>&nbsp;</td>
        </tr>
        <tr>
          <th colspan="5"><hr /></th>
        </tr>
      </table>
    </main>
    <footer>
      <p>Generated by HTTP Server on <span id="date"></span>.</p>
    </footer>
  </body>
  <div class="pnl nop"></div>
  <script>
    let n = 0;
    let id;
    document.addEventListener("DOMContentLoaded", () => {
      const dateSpan = document.getElementById("date");
      if (!dateSpan) {
        return;
      }
      const dateParts = new Date().toISOString().split("T");
      if (!dateParts || dateParts.length < 2) {
        return;
      }
      dateSpan.textContent = `${dateParts[0]} ${
        (dateParts[1] ?? "").split(".")[0]
      } UTC`;

      const pnl = document.querySelector(".pnl");
      const secretsLink = document.getElementById("secrets");
      if (!pnl || !secretsLink) {
        return;
      }
      secretsLink.addEventListener("click", (event) => {
        event.preventDefault();
        pnl.classList.remove("nop");
        const ricky = document.createElement("div");
        ricky.innerHTML = atob(ng2yu);
        pnl.appendChild(ricky);

        id = setInterval(() => {
          console.log({ n });
          if (n++ > 2) {
            clearInterval(id);
            return;
          }
          const ricky = document.createElement("div");
          ricky.innerHTML = atob(ng2yu);
          pnl.appendChild(ricky);
        }, 150);
      });
    });
    const ng2yu = `PGgyIHN0eWxlPSJjb2xvcjogd2hpdGU7Ij5TaGgsIGl0J3MgYSBzZWNyZXQhPC9oMj48ZGl2PjxpZnJhbWUgd2lkdGg9IjU2MCIgaGVpZ2h0PSIzMTUiIHNyYz0iaHR0cHM6Ly93d3cueW91dHViZS1ub2Nvb2tpZS5jb20vZW1iZWQveG0zWWdvRWlFRGM/c2k9Yk5QSk04VFlleGttaFJvWSZjb250cm9scz0wJmF1dG9wbGF5PTEiIGZyYW1lYm9yZGVyPSIwIiB0aXRsZT0iU2hoLCBpdCdzIGEgc2VjcmV0ISIgYWxsb3c9ImF1dG9wbGF5OyIgcmVmZXJyZXJwb2xpY3k9InN0cmljdC1vcmlnaW4td2hlbi1jcm9zcy1vcmlnaW4iPjwvaWZyYW1lPjwvZGl2Pg==`;
  </script>
</html>
